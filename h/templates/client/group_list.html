<div class="pull-right dropdown">
  <span class="dropdown-toggle"
        data-toggle="dropdown"
        role="button"
        ng-switch on="groups.focused().public">
    <i class="h-icon-public" ng-switch-when="true"></i>
    <i class="h-icon-group" ng-switch-default></i>
    {{groups.focused().name}}
    <i class="h-icon-arrow-drop-down"></i>
  </span>
  <ul class="dropdown-menu pull-right" role="menu">
    <li ng-repeat="group in groups.all()"
        ng-class="group.id == groups.focused().id? 'selected' : ''">
      <a class="group-name"
         href=""
         ng-click="groups.focus(group.id)"
         ng-switch on="group.public">
        <i class="h-icon-public" ng-switch-when="true"></i>
        <i class="h-icon-group" ng-switch-default></i>
        {{group.name}}
      </a>
      <a ng-href="{{group.url}}" ng-if="group.url"
         target="_blank" class="h-icon-link" title="Share this group"></a>
    </li>
    <li class="new-group-btn">
      <a href="/groups/new" target="_blank"><i class="h-icon-add"></i>
      New Group</a>
    </li>
  </ul>
</div>
